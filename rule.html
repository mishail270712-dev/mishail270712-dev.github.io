<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>PompushkaShcool</title>
      <link rel="icon" type="image/x-icon" href="ico.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
  <h1>–®–∫–æ–ª—å–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ "PompushkaShcool"</h1>
  <p>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: –ú—É—Ä–∞—Ç–æ–≤ –ú–∏—Ö–∞–∏–ª</p>
  <input type="text" id="searchBox" placeholder="–ü–æ–∏—Å–∫...">
  <div id="searchResults"></div>
  <button id="openChatBtn" style="margin-top: 10px;">ü§ñ –°–ø—Ä–æ—Å–∏—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç—å</button>
  <div style="position: absolute; top: 20px; right: 20px; display: flex; gap: 8px;">
    <button id="helpBtn" title="–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è">?</button>
    <button id="settingsBtn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
  </div>
</header>

  <main>
    <h2 id="ruleTitle">–ü—Ä–∞–≤–∏–ª–æ</h2>
    <div id="ruleContent">
      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∞–≤–∏–ª–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ —á–µ—Ä–µ–∑ JS -->
    </div>
  </main>

  <footer>
    <a href="#" id="backToGroup">&larr; –ù–∞–∑–∞–¥ –∫ –ø—Ä–∞–≤–∏–ª–∞–º</a>
  </footer>

  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö -->
  <script src="data/russian_data.js"></script>
  <script src="data/math_data.js"></script>
  <script src="data/english_data.js"></script>
  <script src="data/history_data.js"></script>
  <script src="data/biology_data.js"></script>
  <script src="data/chemistry_data.js"></script>
  <script src="data/physics_data.js"></script>
  <script src="data/literature_data.js"></script>
  <script src="data/geography_data.js"></script>
  <script src="data/informatics_data.js"></script>
  <script src="all_data.js"></script>
  <script src="script.js"></script>
  <script>
    window.addEventListener('load', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const ruleId = urlParams.get('id');

      // –ü–æ–ª—É—á–∞–µ–º subjectId –∏ groupId —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏
      const subjectId = getSubjectByRuleId(ruleId);
      const groupId = getGroupByRuleId(ruleId);

      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Å—ã–ª–∫—É "–ù–∞–∑–∞–¥"
      if (subjectId && groupId) {
        document.getElementById('backToGroup').href = `group.html?subj=${subjectId}&group=${groupId}`;
      } else {
        document.getElementById('backToGroup').href = 'index.html';
      }

      // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∞–≤–∏–ª–æ
      loadRule(ruleId);
    });
  </script>

  <p>–ï—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ –æ—à–∏–±–∫–∞, –ø—Ä–æ—à—É –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Å—é–¥–∞: Telegram - @Misha_x123</p>
    <p>¬©Pompushka Games Studio —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é Qwen</p>

<div id="chatModal" class="chat-modal">
  <div class="chat-window">
    <div class="chat-header">
      <span>ü§ñ –ù–µ–π—Ä–æ—Å–µ—Ç—å "PompuwkaAI"</span>
      <div class="chat-header-buttons">
        <button id="clearChatBtn" class="close-btn" title="–û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç">üóë</button>
        <button id="closeChatBtn" class="close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
    </div>
    <div id="chatMessages" class="chat-messages">
      <div class="message bot-message">
        –ü—Ä–∏–≤–µ—Ç! –Ø ‚Äî PompuwkaAI. –ó–∞–¥–∞–π –º–Ω–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –ø–æ —à–∫–æ–ª—å–Ω—ã–º –ø—Ä–µ–¥–º–µ—Ç–∞–º, –∏ —è –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –æ—Ç–≤–µ—Ç–∏—Ç—å!
      </div>
    </div>
    <div class="chat-input-area">
      <input type="text" id="userInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..." />
      <button id="sendMsgBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
  </div>
</div>
<!-- –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
<div id="settingsModal" class="settings-modal">
  <div class="settings-window">
    <div class="settings-header">
      <span>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
      <button id="closeSettingsBtn" class="close-btn">&times;</button>
    </div>
    <div class="settings-content">
      <h3>–¢–µ–º–∞</h3>
      <button id="themeToggleInModal">üåô –ù–æ—á–Ω–∞—è —Ç–µ–º–∞</button>

      <h3>–¶–≤–µ—Ç —à–∞–ø–∫–∏</h3>
      <div class="settings-color-grid">
        <button data-color-header="#4CAF50">üü¢</button>
        <button data-color-header="#F44336">üî¥</button>
        <button data-color-header="#FF9800">üü†</button>
        <button data-color-header="#2196F3">üîµ</button>
        <button data-color-header="#00BCD4">üî∑</button>
        <button data-color-header="#E91E63">üå∏</button>
        <button data-color-header="#FFEB3B">üü°</button>
      </div>

      <h3>–¶–≤–µ—Ç –∫–Ω–æ–ø–æ–∫</h3>
      <div class="settings-color-grid">
        <button data-color-button="#4CAF50">üü¢</button>
        <button data-color-button="#F44336">üî¥</button>
        <button data-color-button="#FF9800">üü†</button>
        <button data-color-button="#2196F3">üîµ</button>
        <button data-color-button="#00BCD4">üî∑</button>
        <button data-color-button="#E91E63">üå∏</button>
        <button data-color-button="#000000">‚ö´</button>
        <button data-color-button="#FFFFFF">‚ö™</button>
        <button data-color-button="#FFEB3B">üü°</button>
      </div>
      <div style="margin-top: 20px;">
        <button id="resetSettingsBtn">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      </div>
    </div>
  </div>
</div>
<!-- –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –ø–æ–º–æ—â–∏ -->
<div id="helpModal" class="help-modal">
  <div class="help-window">
    <div class="help-header">
      <span>‚ùì –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è</span>
      <button id="closeHelpBtn" class="close-btn">&times;</button>
    </div>
    <div class="help-content">
      <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Pompushkashcool!</p>
      <ul>
        <li>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ä–∞–∑–¥–µ–ª–∞–º.</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∞–≤–∏–ª–∞–º.</li>
        <li>–°–ø—Ä–æ—Å–∏—Ç–µ –Ω–µ–π—Ä–æ—Å–µ—Ç—å, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ.</li>
        <li>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ —Å–∞–π—Ç–∞ –≤ –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫.</li>
      </ul>
    </div>
  </div>
</div>
</body>
</html>